!function(a){"use strict";var b=a.requestAnimationFrame,c=a.cancelAnimationFrame,d=function(){return this.init.apply(this,arguments)};d.prototype={constructor:d,init:function(a){this._now=null,this._then=null,this._delta=null,this._first=null,this._time=null,this._frame=0,this._cycle=null,this._started=!1,this._fps=a.fps||60,this._interval=1e3/this._fps,this._blit=a.blit||null,this._paused=a.paused||!1,this._started||this._paused||this.start()},blit:function(a){return"function"==typeof a&&(this._blit=a),this},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},start:function(){return this._started?this:(this._paused=!1,this._blitInit(),this)},stop:function(){return c(this._cycle),this._started=!1,this._cycle=null,this},_blitInit:function(){if(this._started)return this;this._started=!0,this._then=(new Date).getTime(),this._first=this._then;var a=this,c=function(){a._cycle=b(c),a._now=(new Date).getTime(),a._delta=a._now-a._then,a._delta>a._interval&&(a._paused||(a._frame++,a._then=a._now-a._delta%a._interval,a._time=a._then-a._first,"function"==typeof a._blit&&a._blit(a._frame)))};c()}},a.Blit=d}(window),function(a){"use strict";var b={linear:function(a){return a},swing:function(a){return(1-Math.cos(a*Math.PI))/2},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}};a.Easing=b}(window),function(a,b){"use strict";var c={addEvent:function(b,c,d){var e=function(b){return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1}),"function"==typeof d?d.call(this,b):void 0};c.addEventListener?c.addEventListener(b,e,!1):c.attachEvent("on"+b,e)},removeEvent:function(a,b,c){b.removeEventListener?b.removeEventListener(a,c,!1):b.detachEvent("on"+a,c)},delegateEvent:function(c,d,e,f){var g=/^\./.test(e),h=/^\#/.test(e),i=g||h?!1:!0,j=function(a){var c;if(i&&a&&a.nodeName.toLowerCase()===e)c=a;else if(g&&a){for(var d=a.className.split(" "),f=0,k=d.length;k>f;f++)if(d[f]===e.replace(".","")){c=a;break}}else h&&a&&a.id===e.replace("#","")&&(c=a);return c||a!==document.documentElement?c||j(a.parentNode):b},k=function(b){var c=j(b.target);return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1}),c&&"function"==typeof f?f.call(c,b):void 0};d.addEventListener?d.addEventListener(c,k,!1):d.attachEvent("on"+c,k)}};a.EventApi=c}(window),function(a){"use strict";var b=null,c=function(){return b||this.init.apply(this,arguments)};c.prototype={constructor:c,_handlers:{},init:function(){b=this},on:function(a,b){"function"==typeof b&&(this._handlers[a]||(this._handlers[a]=[]),b._eventfulTime=Date.now(),b._eventfulType=a,this._handlers[a].push(b))},off:function(a,b){return this._handlers[a]?void(b?this._off(a,b):this._offed(a)):this},fire:function(a){if(!this._handlers[a])return this;for(var b=[].slice.call(arguments,1),c=this._handlers[a].length;c--;)this._handlers[a][c].apply(this,b)},_off:function(a,b){for(var c=0,d=this._handlers[a].length;d>c;c++)if(b._eventfulTime===this._handlers[a][c]._eventfulTime){this._handlers[a].splice(c,1);break}},_offed:function(a){for(var b=this._handlers[a].length;b--;)this._handlers[a][b]=null;delete this._handlers[a]}},a.Eventful=c}(window),function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,_rEscChars:/\/|\\|\.|\||\*|\&|\+|\(|\)|\[|\]|\?|\$|\^/g,init:function(a){this.escapeInputs=!1,this.matchFront=!1,this.matchAny=!0,this.matchCase=!1,this.alphaResults=!1;for(var b in a)this.set(b,a[b])},set:function(a,b){if("object"==typeof a)for(var c in a)this[c]=a[c];else a&&(this[a]=b);return this},query:function(a,b){var c,d="",e=["g"],f=[];if(!a)return console.log("[Isearch]: Invalid term to query for ",a),this;if(!this.terms||!this.terms.length)return console.log("[Isearch]: No terms to query against ",this.terms),this;this.escapeInputs&&(a=a.replace(this._rEscChars,"")),this.matchCase||e.push("i"),this.matchFront&&(d+="^",e.splice(e.indexOf("g"),1)),d+=a,c=new RegExp(d,e.join(""));for(var g=this.terms.length;g--;){var h=this.terms[g].match(c);h&&f.push(this.terms[g])}return this.alphaResults&&(f=f.sort(this._sortAlpha)),"function"==typeof b&&b(f),this},_sortAlpha:function(a,b){return b>a?-1:a>b?1:0}},a.Isearch=b}(window),function(a){"use strict";var b={A:65,B:66,UP:38,DOWN:40,LEFT:37,RIGHT:39},c=[b.UP,b.UP,b.DOWN,b.DOWN,b.LEFT,b.RIGHT,b.LEFT,b.RIGHT,b.B,b.A].join(""),d=function(){return this.init.apply(this,arguments)};d.prototype={constructor:d,init:function(){this._delay=500,this._callbacks=[],this._timeout=null;var a="",b=this,d=function(d){try{clearTimeout(b._timeout)}catch(e){}a=""+(a+d.keyCode),a===c&&b._dispatch("_konamicode_"),b._timeout=setTimeout(function(){clearTimeout(b._timeout),a=""},b._delay)};document.addEventListener?document.addEventListener("keydown",d,!1):document.attachEvent("onkeydown",d)},listen:function(a){return"function"==typeof a&&this._callbacks.push(a),this},_dispatch:function(a){for(var b=this._callbacks.length;b--;)this._callbacks[b].call(this,a)}},a.KonamiCode=d}(window),function(a){"use strict";var b,c=a.requestAnimationFrame,d=a.cancelAnimationFrame,e=0,f=0,g=null,h=!1,i=function(){if(f!==e)for(g=c(i),b=j.length;b--;)j[b]._numLoaded!==j[b]._num2Load&&j[b].handle();else d(g),g=null,h=!1},j=[],k=function(){return this.init.apply(this,arguments)};k.prototype={init:function(a){this._elements=a,this._numLoaded=0,this._num2Load=a.length,this._handlers={update:null,handle:null},this._before=null,this._after=null,e+=this._num2Load,j.push(this),h||(i(),h=!0)},on:function(a,b){return this._handlers[a]=b,this},update:function(){for(var a=0,b=this._elements.length;b>a;a++)this._fire("update",this._elements[a]);return this},handle:function(){for(var a=0,b=this._elements.length;b>a;a++)!this._fire("handle",this._elements[a])||this._elements[a].dataset.handled||this._elements[a].dataset.loaded||(f++,this._numLoaded++);return this},before:function(a){return"function"==typeof a&&(this._before=a),this},after:function(a){return"function"==typeof a&&(this._after=a),this},loadImage:function(a,b){var c=this,d=new Image;a.dataset.loading=!0,"function"==typeof this._before&&this._before(a),d.onload=function(){d=null,a.dataset.loaded=!0,a.dataset.handled=!0,a.dataset.loading=!1,"function"==typeof c._after&&c._after(a)},d.src=b},_fire:function(a,b){var c=!1;return"function"==typeof this._handlers[a]&&(c=this._handlers[a].call(this,b)),c}},a.LazyLoader=k}(window),function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(a){this._routes=a?this._cleanRoutes(a):[]},config:function(a){return this._routes=this._routes.concat(this._cleanRoutes(a)),this},test:function(a){return this.parse(a,this._routes).match},match:function(a){return this.parse(a,this._routes).matches},compare:function(a,b){return this.parse(b,[a])},parse:function(a,b){for(var c,d,e,f,g,h,i=this._cleanRoute(a),j=i.split("/"),k=j.length,l=b.length,m={match:!1,route:null,matches:{}},n=0;l>n;n++){if(m={match:!1,route:null,matches:{}},f=b[n].split("/"),"/"===i&&"/"===b[n]){m.match=!0,m.route=b[n];break}if(f.length===j.length){c=0;for(var o=0;k>o;o++)this._rWild.test(f[o])?(d=f[o].split("!"),e=d[0],h=d[1],m.matches[e.replace(this._rWild,"")]=j[o],h?(this._wilders[h]&&(g=this._wilders[h]),g&&g.test(j[o])&&c++):c++):j[o]===f[o]&&c++;if(c===j.length){m.match=!0,m.route=b[n];break}}}return m},_cleanRoute:function(a){return"/"!==a&&(a=a.replace(this._rHTTPs,""),a=a.replace(this._rTrails,""),a=a.replace(this._rHashQuery,"")),""===a&&(a="/"),a},_cleanRoutes:function(a){for(var b=a.length;b--;)a[b]=this._cleanRoute(a[b]);return a}},a.MatchRoute=b}(window),function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,STATE_STOPPED:0,STATE_STOPPING:1,STATE_PAUSED:2,STATE_PLAYING:3,_rHashQuery:/[#|?].*$/g,init:function(){this._channels={},this._audio={},this._video={},this._audioPaused=!1,this._supported={},this._supported.audio=this._getAudioSupport(),this._supported.video=this._getVideoSupport()},createAudioContext:function(){var b;return a.AudioContext?b=b:a.webkitAudioContext&&(b=webkitAudioContext),b?new b:b},createGainNode:function(a){var b;return b=a.createGain?a.createGain():a.createGainNode()},loadMedia:function(a,b){var c=new XMLHttpRequest,d=this;c.open("GET",a,!0),c.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a;try{a=JSON.parse(this.responseText)}catch(c){}a&&d.addMedia(a,b)}},c.send()},addMedia:function(a,b){var c=0,d=0,e=function(){c++,"function"==typeof b&&c===d&&b()};for(var f in a){d+=a[f].length;for(var g=a[f].length;g--;)this[f](a[f][g],e)}},addVideo:function(a,b){var c=this,d=a[0],e=new XMLHttpRequest;this._channels[a[2].channel]||(this._channels[a[2].channel]={}),this._video[d]={},this._video[d].channel=a[2].channel,this._video[d].loop=a[2].loop||!1,this._video[d].sources=a[1],this._video[d].element=document.createElement("video"),this._video[d].element.setAttribute("controls",!1),this._video[d]._usedSource=this._getUsedMediaSource("video",this._video[d].sources),this._video[d]._events={},e.open("GET",this._video[d]._usedSource.source,!0),e.onload=function(){var a=document.createElement("source");a.src=c._video[d]._usedSource.source,a.type=c._getMimeFromMedia(c._video[d]._usedSource.source),c._video[d].element.appendChild(a),"function"==typeof b&&b()},e.send()},addVideoEvent:function(a,b,c){this._video[a]&&(this._video[a]._events[b]=function(){"function"==typeof c&&c.apply(this,arguments)},this._video[a].element.addEventListener(b,this._video[a]._events[b],!1))},removeVideoEvent:function(a,b){this._video[a]&&(this._video[a].element.removeEventListener(b,this._video[a]._events[b],!1),this._video[a]._events[b]=null)},getVideo:function(a){var b;return this._video[a]&&(b=this._video[a].element),b},playVideo:function(a){this._video[a]&&(this._video[a].element.volume=this._channels[this._video[a].channel].volume,this._video[a].element.play())},stopVideo:function(a){this._video[a]&&this._video[a].element.pause()},addAudio:function(a,b){var c=this,d=a[0],e=new XMLHttpRequest;this._channels[a[2].channel]||(this._channels[a[2].channel]={}),this._audio[d]={},this._audio[d].channel=a[2].channel,this._audio[d].loop=a[2].loop||!1,this._audio[d].sources=a[1],this._audio[d].context=this.createAudioContext(),this._audio[d]._usedSource=this._getUsedMediaSource("audio",this._audio[d].sources),this._audio[d].state=this.STATE_STOPPED,e.open("GET",this._audio[d]._usedSource.source,!0),e.responseType="arraybuffer",e.onload=function(){c._audio[d].context.decodeAudioData(e.response,function(a){c._audio[d].startTime=0,c._audio[d].startOffset=0,c._audio[d].buffer=a,c._audio[d].gainNode=c.createGainNode(c._audio[d].context),"function"==typeof b&&b()})},e.send()},playAudio:function(a){this._audio[a]&&(this._audio[a].startTime=this._audio[a].context.currentTime,this._audio[a].source=this._audio[a].context.createBufferSource(),this._audio[a].source.buffer=this._audio[a].buffer,this._audio[a].source.connect(this._audio[a].gainNode),this._audio[a].gainNode.connect(this._audio[a].context.destination),this._audio[a].gainNode.gain.value=this._channels[this._audio[a].channel].volume||1,this._audio[a].loop&&(this._audio[a].source.loop=!0),this._sourceStart(this._audio[a]),this._audio[a].state=this.STATE_PLAYING)},hitAudio:function(a){this.playAudio(a)},stopAudio:function(a){this._audio[a]&&(this._audio[a].startTime=0,this._audio[a].startOffset=0,this._audio[a].state=this.STATE_STOPPED,this._sourceStop(this._audio[a]))},pauseAudio:function(a){this._audio[a]&&(this._audio[a].startOffset+=this._audio[a].context.currentTime-this._audio[a].startTime,this._audio[a].state=this.STATE_PAUSED,this._sourceStop(this._audio[a]))},fadeAudioIn:function(a,b){if(this._audio[a].state===this.STATE_PLAYING)return this;var c=this,d=this._channels[this._audio[a].channel].volume;this._audio[a]&&(this._audio[a].state===this.STATE_STOPPED?(this._audio[a].gainNode.gain.value=0,this.playAudio(a)):this._audio[a].state===this.STATE_STOPPING&&(this._audio[a].state=this.STATE_PLAYING),new Tween(b||1e3,0,d,function(b){c._audio[a].gainNode.gain.value=b}))},fadeAudioOut:function(a,b){if(this._audio[a].state===this.STATE_STOPPING)return this;var c=this;this._audio[a]&&(this._audio[a].state=this.STATE_STOPPING,new Tween(b||1e3,this._audio[a].gainNode.gain.value,0,function(b){c._audio[a].state===c.STATE_STOPPING&&(c._audio[a].gainNode.gain.value=b,0===c._audio[a].gainNode.gain.value&&c.stopAudio(a))}))},stopChannel:function(a){for(var b in this._audio)this._audio[b].channel===a&&this._audio[b].state===this.STATE_PLAYING&&this.pauseAudio(b)},playChannel:function(a){for(var b in this._audio)this._audio[b].channel===a&&this._audio[b].state===this.STATE_PAUSED&&this.playAudio(b)},fadeChannelOut:function(a,b){for(var c in this._audio)this._audio[c].channel===a&&this._audio[c].state===this.STATE_PLAYING&&this.fadeAudioOut(c,b)},fadeChannelIn:function(a,b){for(var c in this._audio)this._audio[c].channel===a&&this._audio[c].state===this.STATE_PAUSED&&this.fadeAudioIn(c,b)},crossFadeChannel:function(a,b,c){for(var d in this._audio)this._audio[d].channel===a&&this._audio[d].state===this.STATE_PLAYING&&this.fadeAudioOut(d,c);this.fadeAudioIn(b,c)},setChannelVolume:function(a,b){this._channels[a]&&(this._channels[a].volume=b)},pauseAll:function(a){if(this._audioPaused)return this;this._audioPaused=!0;for(var b in this._audio)this._audio[b].state===this.STATE_PLAYING&&this._audio[b].channel===a&&this.pauseAudio(b)},resumeAll:function(a){if(!this._audioPaused)return this;this._audioPaused=!1;for(var b in this._audio)this._audio[b].state===this.STATE_PAUSED&&this._audio[b].channel===a&&this.playAudio(b)},_sourceStart:function(a){a.source.start?a.source.start(0,a.startOffset%a.buffer.duration):a.source.noteOn(0,a.startOffset%a.buffer.duration)},_sourceStop:function(a){a.source.stop?a.source.stop(0):a.source.noteOff(0)},_getMimeFromMedia:function(a){var b;switch(a.split(".").pop().toLowerCase()){case"ogg":b="audio/ogg";break;case"mp3":b="audio/mpeg";break;case"webm":b="video/webm";break;case"mp4":b="video/mp4";break;case"ogv":b="video/ogg"}return b},_getUsedMediaSource:function(a,b){for(var c,d,e=b.length;e--;){var f=b[e].split(".").pop().toLowerCase().replace(this._rHashQuery,"");if("video"===a&&"mp4"===f?"probably"===this._supported.video.mpeg4||"probably"===this._supported.video.h264?(c=b[e],d="probably"):("maybe"===this._supported.video.mpeg4||"maybe"===this._supported.video.h264)&&(c=b[e],d="maybe"):"probably"===this._supported[a][f]?(c=b[e],d="probably"):"maybe"===this._supported[a][f]&&(c=b[e],d="maybe"),c)break}return{source:c,canPlay:d}},_getAudioSupport:function(){var a=document.createElement("audio"),b=/^no$/,c={};try{a.canPlayType&&(c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(b,""),c.mp3=a.canPlayType("audio/mpeg;").replace(b,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(b,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(b,""))}catch(d){}return c},_getVideoSupport:function(){var a=document.createElement("video"),b=/^no$/,c={};try{a.canPlayType&&(c.mpeg4=a.canPlayType('video/mp4; codecs="mp4v.20.8"').replace(b,""),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(b,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(b,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(b,""))}catch(d){}return c}},a.MediaBox=b}(window),function(a,b){"use strict";var c=function(){return this.init.apply(this,arguments)};c.prototype={constructor:c,_rHash:/#/,_rHTTPs:/^http[s]?:\/\/.*?\//,_pushable:"history"in a&&"pushState"in a.history,_hashable:"onhashchange"in a,init:function(c){var d=a.location.href;this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._responses={},this._callbacks={},this._async=c&&c.async!==b?c.async:!0,this._caching=c&&c.caching!==b?c.caching:!0,this._states[d]={uid:this._getUid(),cached:!1},this._stateEnable()},on:function(a,b){"function"==typeof b&&(this._callbacks[a]||(this._callbacks[a]=[]),b._pushstateTime=Date.now(),b._pushstateType=a,this._callbacks[a].push(b))},push:function(a,b){var c=this;this._fire("beforestate"),this._stateCached(a)?(this._push(a),b(this._responses[a])):(this._states[a]={uid:this._getUid(),cached:!1},this._async?this._getUrl(a,function(d){c._push(a),c._fire("afterstate",d),"function"==typeof b&&b(d)}):(this._push(a),this._fire("afterstate"),"function"==typeof b&&b()))},goBack:function(){a.history.back(),this._fire("back")},goForward:function(){a.history.forward(),this._fire("forward")},_push:function(b){this._pushable?a.history.pushState(this._states[b],"",b):(this._ishashpushed=!0,a.location.hash=b.replace(this._rHTTPs,""))},_stateCached:function(a){var b=!1;return this._caching&&this._states[a]&&this._states[a].cached&&this._responses[a]&&(b=!0),b},_cacheState:function(a,b){this._caching&&(this._states[a].cached=!0,this._responses[a]=b)},_getUid:function(){return this._uid=this._uid+1,this._uid},_getUrl:function(a,b){var c=new XMLHttpRequest,d=this;c.open("GET",a,!0),c.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{d._cacheState(a,this),"function"==typeof b&&b(this)}catch(c){}else 404===this.status},c.send()},_fire:function(a){if(this._callbacks[a])for(var b=this._callbacks[a].length;b--;)this._callbacks[a][b].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var b=this,c=function(){var c=a.location.href.replace(b._rHash,"/");b._stateCached(c)?b._fire("popstate",c,b._responses[c]):b._getUrl(c,function(a){b._fire("popstate",c,a)})};this._enabled=!0,this._pushable?a.addEventListener("popstate",function(){c()},!1):this._hashable&&a.addEventListener("hashchange",function(){b._ishashpushed?b._ishashpushed=!1:c()},!1)}},a.PushState=c}(window),function(a,b){"use strict";var c=function(){return this.init.apply(this,arguments)};c.prototype={constructor:c,init:function(a){var c=this;this._matcher=new MatchRoute,this._pusher=new PushState(a),this._callbacks={get:[]},this._options={preventDefault:a.preventDefault!==b?a.preventDefault:!1},document.addEventListener?document.addEventListener("click",function(a){c._handler(a)},!1):document.attachEvent&&document.attachEvent("onclick",function(a){c._handler(a)}),this._pusher.on("popstate",function(a,b){c._fire("get",a,b)}),this._pusher.on("beforestate",function(){c._fire("beforeget")}),this._pusher.on("afterstate",function(){c._fire("afterget")})},on:function(a,b){return"get"===a?this:void this._bind(a,b)},get:function(a,b){this._matcher.config([a]),b._routerRoutes?b._routerRoutes.push(a):b._routerRoutes=[a],1===b._routerRoutes.length&&this._bind("get",b)},_preventDefault:function(a){return this._options.preventDefault?void(a.preventDefault?a.preventDefault():a.returnValue=!1):this},_matchElement:function(a,b){var c=a.matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.oMatchesSelector?"oMatchesSelector":null;return c&&a[c].call(a,b)?a:a!==document.documentElement?this._matchElement(a.parentNode,b):null},_handler:function(a){var b=this,c=this._matchElement(a.target,"a");c&&-1===c.href.indexOf("#")&&this._matcher.test(c.href)&&(this._preventDefault(a),this._pusher.push(c.href,function(a){b._fire("get",c.href,a)}))},_bind:function(a,b){"function"==typeof b&&(this._callbacks[a]||(this._callbacks[a]=[]),b._routerTime=Date.now(),b._routerType=a,this._callbacks[a].push(b))},_fire:function(a,b,c){var d;if("get"===a)for(d=this._callbacks[a].length;d--;){var e=this._matcher.parse(b,this._callbacks[a][d]._routerRoutes);e.match&&this._callbacks[a][d].call(this,{route:this._matcher._cleanRoute(b),response:c,matches:e.matches})}else if(this._callbacks[a])for(d=this._callbacks[a].length;d--;)this._callbacks[a][d].call(this)}},a.Router=c}(window),function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,init:function(a){this._step=null,this._when={},this._done=null,this._delay=a.delay||250,this._current=0,this._occurrences=a.occurrences||0,this._timeout=null,this._paused=a.paused||!1,this._started=!1,this._resolved=!1,this._started||this._paused||this.start()},step:function(a){return"function"==typeof a&&(this._step=a),this},when:function(a,b){return"function"==typeof b&&(this._when[a]=b),this},done:function(a){return"function"==typeof a&&(this._done=a),this},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},start:function(){this._started=!0,this._paused&&this.play(),this._stagger()},_resolve:function(){this._resolved=!0,this._timeout=null},_stagger:function(){var a=this,b=function(){a._timeout=setTimeout(function(){return clearTimeout(a._timeout),a._resolved?void(a._timeout=null):a._paused?void b():("function"==typeof a._step&&a._step(a._current),"function"==typeof a._when[a._current]&&a._when[a._current](a._current),a._current++,void(a._current===a._occurrences?("function"==typeof a._done&&a._done(),a._resolve()):b()))},a._delay)};b()}},a.Stagger=b}(window),function(a,b){"use strict";var c=function(){return this.init.apply(this,arguments)};c.prototype={constructor:c,init:function(a){var c=this;this._events={},this._touches={},this._gestures=[],this._handlers={},this._lastSwipe="",this._lastTouch=0,this._threshold=60,this._tapstart=null,this._windowScrollY=0,this._isTouchDown=!1,this._options={preventDefault:!0,preventMouseEvents:!1};for(var d in this._options)a&&typeof a[d]!==b&&(this._options[d]=a[d]);document.addEventListener("touchstart",function(a){c._onTouchStart(this,a)},!1),document.addEventListener("touchmove",function(a){c._onTouchMove(this,a)},!1),document.addEventListener("touchend",function(a){c._onTouchEnd(this,a)},!1),this._options.preventMouseEvents||(document.addEventListener("mousedown",function(a){c._onTouchStart(this,a)},!1),document.addEventListener("mousemove",function(a){c._onTouchMove(this,a)},!1),document.addEventListener("mouseup",function(a){c._onTouchEnd(this,a)},!1))},on:function(a,b,c){"function"==typeof c&&(this._handlers[a]||(this._handlers[a]=[]),c._touchmeTime=Date.now(),c._touchmeSelector=b,c._touchmeEvent=a,this._handlers[a].push(c))},off:function(a,b){if(!this._handlers[a])return this;for(var c=0,d=this._handlers[a].length;d>c;c++)if(b._touchmeTime===this._handlers[a][c]._touchmeTime){this._handlers[a].splice(c,1);break}},getSwipe:function(a,b,c,d){var e,f=Math.abs(a-b),g=Math.abs(c-d);return e=f>=g?a-b>0?"left":"right":c-d>0?"up":"down"},getSwipeAngle:function(a,b,c,d){var e,f=c-d,g=a-b;return e=Math.atan2(f,g),e*=180/Math.PI},isDelegate:function(a,b){return this._matchElement(a.target,b)},is45ish:function(a){return a=Math.abs(a),180>a&&a>135||a>0&&45>a},_call:function(a,b,c){if(!this._handlers[a])return this;for(var d=this._handlers[a].length;d--;){var e=this.isDelegate(c,this._handlers[a][d]._touchmeSelector);e&&this._handlers[a][d].call(e,c)}},_isDelegated:function(a){var b=null;for(var c in this._handlers)for(var d=this._handlers[c].length;d--&&!(b=this.isDelegate(a,this._handlers[c][d]._touchmeSelector)););return b},_matchElement:function(a,b){var c=a.matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.oMatchesSelector?"oMatchesSelector":null;return c&&a[c].call(a,b)?a:a!==document.documentElement?this._matchElement(a.parentNode,b):null},_onTouchStart:function(b,c){this._isTouchDown=!0,this._gestures=[],this._lastSwipe="",this._tapstart=Date.now(),this._windowScrollY=a.scrollY,this._events={},this._events.touchstart=c,c.touches?(this._lastTouch=c.touches.length-1,this._touches.x0=c.touches[this._lastTouch].pageX,this._touches.y0=c.touches[this._lastTouch].pageY,this._touches.x1=c.touches[this._lastTouch].pageX,this._touches.y1=c.touches[this._lastTouch].pageY):(this._lastTouch=0,this._touches.x0=c.pageX,this._touches.y0=c.pageY,this._touches.x1=c.pageX,this._touches.y1=c.pageY)},_onTouchMove:function(a,b){if(this._isTouchDown){var c,d,e,f;if(this._events.touchmove=b,b.touches?(this._touches.x2=b.touches[this._lastTouch].pageX,this._touches.y2=b.touches[this._lastTouch].pageY):(this._touches.x2=b.pageX,this._touches.y2=b.pageY),e=Math.abs(this._touches.x1-this._touches.x2),f=Math.abs(this._touches.y1-this._touches.y2),c=this.getSwipeAngle(this._touches.x0,this._touches.x2,this._touches.y0,this._touches.y2),this._isDelegated(b)&&this.is45ish(c)&&this._options.preventDefault&&b.preventDefault(),e>this._threshold||f>this._threshold){if(d=this.getSwipe(this._touches.x1,this._touches.x2,this._touches.y1,this._touches.y2),this._touches.x1=this._touches.x2,this._touches.y1=this._touches.y2,d===this._lastSwipe)return;this._lastSwipe=d,this._gestures.push(d)}}},_onTouchEnd:function(b,c){this._isTouchDown=!1,this._events.touchend=c;var d,e=(this.getSwipeAngle(this._touches.x0,this._touches.x2,this._touches.y0,this._touches.y2),Math.abs(a.scrollY-this._windowScrollY));if(c.originalEvent=this._events.touchstart,!this._gestures.length&&e<this._threshold)d=Date.now(),d-this._tapstart>=this._threshold&&(c.gestures=["tap"],this._call("swipetap",b,c)),this._tapstart=null;else for(var f=0,g=this._gestures.length;g>f;f++)c.gestures=this._gestures,this._call("swipe"+this._gestures[f],b,c)}},a.TouchMe=c}(window),function(a){"use strict";var b=function(a,b,c,d,e){function f(){var a=new Date-j,k=i*e(a/h)+b;return a>h?(d(c),cancelAnimationFrame(g),g=null,!1):(d(k),void(g=requestAnimationFrame(f)))}e=e||function(a){return a};var g,h=a||1e3,i=c-b,j=new Date;f()};a.Tween=b}(window),function(a){"use strict";var b=function(a,b,c){var d=null;return function(){function e(){c||a.apply(g,f),d=null}var f=arguments,g=this;d?clearTimeout(d):c&&a.apply(g,f),d=setTimeout(e,b||100)}};a.debounce=b}(window),function(a){"use strict";var b=function(b,c,d,e){var f=a.scrollY||a.pageYOffset,g=function(c){a.scrollTo(0,c),c===b&&"function"==typeof e&&e()};return b=b||0,c=c||400,d=d||function(a){return a},new Tween(c,f,b,g,d)};a.scroll2=b}(window),function(a){"use strict";var b=function(a,b){var c=null;return function(){function d(){b.apply(f,e),c=null}var e=arguments,f=this;c&&clearTimeout(c),c=setTimeout(d,a||100)}};a.throttle=b}(window);