!function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,_step:null,_when:{},_done:null,_delay:250,_current:0,_occurrences:0,_timeout:null,_paused:!1,_started:!1,_resolved:!1,init:function(a){this._delay=a.delay||this._delay,this._occurrences=a.occurrences,this._paused=a.paused||this._paused,this._started||this._paused||this.start()},step:function(a){return"function"==typeof a&&(this._step=a),this},when:function(a,b){return"function"==typeof b&&(this._when[a]=b),this},done:function(a){return"function"==typeof a&&(this._done=a),this},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},start:function(){this._started=!0,this._paused&&this.play(),this._stagger()},_resolve:function(){this._resolved=!0,this._timeout=null},_stagger:function(){var a=this,b=function(){a._timeout=setTimeout(function(){return clearTimeout(a._timeout),a._resolved?void(a._timeout=null):a._paused?void b():("function"==typeof a._step&&a._step(a._current),"function"==typeof a._when[a._current]&&a._when[a._current](a._current),a._current++,void(a._current===a._occurrences?("function"==typeof a._done&&a._done(),a._resolve()):b()))},a._delay)};b()}},a.Stagger=b}(window);