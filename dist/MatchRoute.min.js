!function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/[#|?].*$/g,_rWild:/^:num|^:slug|^:any|^:reg/,_wilders:{":slug":/^[A-Za-z0-9-_.]*/,":num":/^[0-9]+$/,":any":/^.*/,":reg":/:reg|\(|\)/g},init:function(a){this._routes=a?this._cleanRoutes(a):[]},config:function(a){return this._routes=this._routes.concat(this._cleanRoutes(a)),this},test:function(a){return this.parse(a).match},match:function(a){return this.parse(a).matches},compare:function(a,b){return this.parse(b,[a])},parse:function(a,b){for(var c,d,e,f,g,b=b||this._routes,h=this._cleanRoute(a),i=h.split("/"),j=i.length,k=b.length,l={match:!1,matches:[]},m=0;k>m;m++)if(f=b[m].split("/"),f.length===i.length){c=0;for(var n=0;j>n;n++)d=f[n].match(this._rWild),d?(e=d[0],g=":reg"===e?new RegExp(f[n].replace(this._wilders[e],"")):this._wilders[e],g.test(i[n])&&c++):i[n]===f[n]&&c++;if(c===i.length){l.match=!0,l.matches.push(b[m]);break}}return l},_cleanRoute:function(a){return a=a.replace(this._rHTTPs,""),a=a.replace(this._rTrails,""),a=a.replace(this._rHashQuery,"")},_cleanRoutes:function(a){for(var b=a.length;b--;)a[b]=this._cleanRoute(a[b]);return a}},a.MatchRoute=b}(window);