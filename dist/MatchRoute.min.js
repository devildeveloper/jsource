!function(a){"use strict";var b=function(){return this.init.apply(this,arguments)};b.prototype={constructor:b,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(a){this._routes=a?this._cleanRoutes(a):[]},getRoutes:function(){return this._routes},config:function(a){return a="string"==typeof a?[a]:a,this._routes=this._routes.concat(this._cleanRoutes(a)),this},test:function(a){return this.parse(a,this._routes).match},match:function(a){return this.parse(a,this._routes).matches},compare:function(a,b){return this.parse(b,[a])},parse:function(a,b){for(var c,d,e,f,g,h,i=this._cleanRoute(a),j=i.split("/"),k=j.length,l=b.length,m={match:!1,route:null,matches:{}},n=0;l>n;n++){if(m={match:!1,route:null,uri:[],matches:{}},f=b[n].split("/"),"/"===i&&"/"===b[n]){m.match=!0,m.route=b[n];break}if(f.length===j.length){c=0;for(var o=0;k>o;o++)this._rWild.test(f[o])?(d=f[o].split("!"),e=d[0],h=d[1],h?(this._wilders[h]&&(g=this._wilders[h]),g&&g.test(j[o])&&(c++,m.matches[e.replace(this._rWild,"")]=j[o],m.uri.push(j[o]))):c++):j[o]===f[o]&&c++;if(c===j.length){m.match=!0,m.route=b[n],m.uri=m.uri.join("/");break}}}return m},_cleanRoute:function(a){return"/"!==a&&(a=a.replace(this._rHTTPs,""),a=a.replace(this._rTrails,""),a=a.replace(this._rHashQuery,"")),""===a&&(a="/"),a},_cleanRoutes:function(a){for(var b=a.length;b--;)a[b]=this._cleanRoute(a[b]);return a}},a.MatchRoute=b}(window);